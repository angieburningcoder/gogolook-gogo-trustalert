# æŠ€è¡“æ¶æ§‹æ–‡æª”

## ğŸ“‹ ç›®éŒ„

1. [ç³»çµ±æ¶æ§‹æ¦‚è¦½](#ç³»çµ±æ¶æ§‹æ¦‚è¦½)
2. [æŠ€è¡“æ£§](#æŠ€è¡“æ£§)
3. [ç›®éŒ„çµæ§‹](#ç›®éŒ„çµæ§‹)
4. [çµ„ä»¶æ¶æ§‹](#çµ„ä»¶æ¶æ§‹)
5. [æ•¸æ“šæµ](#æ•¸æ“šæµ)
6. [API è¨­è¨ˆ](#api-è¨­è¨ˆ)
7. [å‰ç«¯æ¶æ§‹](#å‰ç«¯æ¶æ§‹)
8. [Analytics æ¶æ§‹](#analytics-æ¶æ§‹)
9. [è¨­è¨ˆæ±ºç­–](#è¨­è¨ˆæ±ºç­–)
10. [æ“´å±•æ€§è€ƒé‡](#æ“´å±•æ€§è€ƒé‡)

---

## ç³»çµ±æ¶æ§‹æ¦‚è¦½

### æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä½¿ç”¨è€…                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Next.js App Router                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Pages Layer (SSR/SSG)                               â”‚   â”‚
â”‚  â”‚  â€¢ Landing Page (/)                                  â”‚   â”‚
â”‚  â”‚  â€¢ Thanks Page (/thanks)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Component Layer                                      â”‚   â”‚
â”‚  â”‚  â€¢ Header, Hero, PainPoints, ValueProps              â”‚   â”‚
â”‚  â”‚  â€¢ Features, CTASection, Footer, LeadModal           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Utility Layer                                        â”‚   â”‚
â”‚  â”‚  â€¢ analytics.ts (Event Tracking)                     â”‚   â”‚
â”‚  â”‚  â€¢ submitLead.ts (Form Submission)                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  API Routes                                           â”‚   â”‚
â”‚  â”‚  â€¢ POST /api/lead (Lead Collection)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Analytics       â”‚              â”‚  External Services   â”‚
â”‚  â€¢ Console       â”‚              â”‚  â€¢ Formspree         â”‚
â”‚  â€¢ dataLayer     â”‚              â”‚  â€¢ Google Forms      â”‚
â”‚  â€¢ Vercel        â”‚              â”‚  â€¢ å…¶ä»–è¡¨å–®æœå‹™      â”‚
â”‚  â€¢ Cloudflare    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç‰¹æ€§

- **éœæ…‹å„ªå…ˆ**: Landing Page ä½¿ç”¨ SSG (Static Site Generation)
- **ç„¡ç‹€æ…‹è¨­è¨ˆ**: ä¸ä¾è³´å¾Œç«¯æ•¸æ“šåº«ï¼ˆFake Door éšæ®µï¼‰
- **æ¼¸é€²å¢å¼·**: å¾å…§å»º API é–‹å§‹ï¼Œå¯é€æ­¥æ“´å±•åˆ°å¤–éƒ¨æœå‹™
- **äº‹ä»¶é©…å‹•**: å®Œæ•´çš„ Analytics äº‹ä»¶è¿½è¹¤ç³»çµ±

---

## æŠ€è¡“æ£§

### æ¡†æ¶èˆ‡èªè¨€

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|------|
| **Next.js** | 15.1.0 | React æ¡†æ¶ (App Router) |
| **React** | 19.0.0 | UI å‡½å¼åº« |
| **TypeScript** | 5.x | é¡å‹å®‰å…¨çš„ JavaScript |

### æ¨£å¼èˆ‡ UI

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|------|
| **Tailwind CSS** | 3.4.17 | CSS æ¡†æ¶ |
| **PostCSS** | 8.4.49 | CSS è™•ç†å·¥å…· |
| **Autoprefixer** | 10.4.20 | CSS å‰ç¶´è‡ªå‹•åŒ– |
| **lucide-react** | 0.469.0 | åœ–ç¤ºåº« |

### å­—é«”

| å­—é«” | å­—é‡ | ç”¨é€” |
|-----|------|------|
| **Noto Sans JP** | 400, 500, 700 | å…§æ–‡ã€æŒ‰éˆ• |
| **Noto Serif JP** | 400, 500, 600 | æ¨™é¡Œã€å¼·èª¿ |
| **Inter** | 400-700 | è‹±æ–‡ã€æ•¸å­— |

### é–‹ç™¼å·¥å…·

| å·¥å…· | ç‰ˆæœ¬ | ç”¨é€” |
|-----|------|------|
| **ESLint** | 9 | ç¨‹å¼ç¢¼æª¢æŸ¥ |
| **TypeScript Compiler** | 5.x | é¡å‹æª¢æŸ¥ |

---

## ç›®éŒ„çµæ§‹

### å®Œæ•´çµæ§‹

```
gogolook-fake-door-mvp/
â”œâ”€â”€ app/                              # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx                    # æ ¹ä½ˆå±€ï¼ˆå­—é«”ã€metadataï¼‰
â”‚   â”œâ”€â”€ page.tsx                      # Landing Page
â”‚   â”œâ”€â”€ globals.css                   # å…¨åŸŸæ¨£å¼ + Tailwind
â”‚   â”œâ”€â”€ thanks/
â”‚   â”‚   â””â”€â”€ page.tsx                  # æ„Ÿè¬é é¢
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ lead/
â”‚           â””â”€â”€ route.ts              # Lead æ”¶é›† API
â”‚
â”œâ”€â”€ components/                       # React çµ„ä»¶
â”‚   â”œâ”€â”€ Header.tsx                    # å°èˆªæ¬„
â”‚   â”œâ”€â”€ Hero.tsx                      # ä¸»è¦–è¦º + CTA
â”‚   â”œâ”€â”€ PainPoints.tsx                # ç—›é»å¡ç‰‡
â”‚   â”œâ”€â”€ ValueProps.tsx                # åƒ¹å€¼ä¸»å¼µ
â”‚   â”œâ”€â”€ Features.tsx                  # åŠŸèƒ½ç‰¹è‰²
â”‚   â”œâ”€â”€ CTASection.tsx                # åº•éƒ¨ CTA
â”‚   â”œâ”€â”€ Footer.tsx                    # é å°¾
â”‚   â””â”€â”€ LeadModal.tsx                 # è¡¨å–® Modal
â”‚
â”œâ”€â”€ lib/                              # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ analytics.ts                  # äº‹ä»¶è¿½è¹¤
â”‚   â””â”€â”€ submitLead.ts                 # è¡¨å–®æäº¤é‚è¼¯
â”‚
â”œâ”€â”€ public/                           # éœæ…‹è³‡æº
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ gogolook-logo.png
â”‚
â”œâ”€â”€ docs/                             # æ–‡æª”
â”‚   â”œâ”€â”€ README.md                     # æ–‡æª”ç´¢å¼•
â”‚   â”œâ”€â”€ development/                  # é–‹ç™¼æ–‡æª”
â”‚   â”œâ”€â”€ deployment/                   # éƒ¨ç½²æ–‡æª”
â”‚   â””â”€â”€ product/                      # ç”¢å“æ–‡æª”
â”‚
â”œâ”€â”€ è¨­å®šæª”æ¡ˆ
â”‚   â”œâ”€â”€ package.json                  # ä¾è³´ç®¡ç†
â”‚   â”œâ”€â”€ tsconfig.json                 # TypeScript è¨­å®š
â”‚   â”œâ”€â”€ next.config.ts                # Next.js è¨­å®š
â”‚   â”œâ”€â”€ tailwind.config.ts            # Tailwind è¨­å®š
â”‚   â”œâ”€â”€ postcss.config.mjs            # PostCSS è¨­å®š
â”‚   â”œâ”€â”€ .eslintrc.json                # ESLint è¨­å®š
â”‚   â””â”€â”€ .env.example                  # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”‚
â””â”€â”€ README.md                         # å°ˆæ¡ˆä¸»æ–‡æª”
```

### è¨­è¨ˆåŸå‰‡

1. **é—œæ³¨é»åˆ†é›¢**: é é¢ã€çµ„ä»¶ã€å·¥å…·å‡½æ•¸åˆ†å±¤æ˜ç¢º
2. **æ¨¡çµ„åŒ–**: æ¯å€‹çµ„ä»¶è·è²¬å–®ä¸€ï¼Œå¯ç¨ç«‹æ¸¬è©¦
3. **å¯ç¶­è­·æ€§**: æ¸…æ™°çš„å‘½åå’Œç›®éŒ„çµæ§‹
4. **å¯æ“´å±•æ€§**: æ˜“æ–¼æ·»åŠ æ–°çµ„ä»¶å’ŒåŠŸèƒ½

---

## çµ„ä»¶æ¶æ§‹

### çµ„ä»¶å±¤ç´š

```
app/page.tsx (Landing Page)
â”œâ”€â”€ Header
â”œâ”€â”€ Hero
â”‚   â””â”€â”€ LeadModal (Conditional)
â”œâ”€â”€ PainPoints
â”œâ”€â”€ ValueProps
â”œâ”€â”€ Features
â”œâ”€â”€ CTASection
â”‚   â””â”€â”€ LeadModal (Conditional)
â””â”€â”€ Footer
```

### çµ„ä»¶è©³è§£

#### 1. Header (`components/Header.tsx`)

**è·è²¬**: é ‚éƒ¨å°èˆªæ¬„

**ç‰¹æ€§**:
- å›ºå®šå®šä½ (`sticky top-0`)
- Logo + å“ç‰Œåç¨±
- Info æŒ‰éˆ•ï¼ˆæœªä¾†å¯æ“´å±•ç‚ºç™»å…¥/è¨»å†Šï¼‰

**Props**: ç„¡

**ç‹€æ…‹**: ç„¡

---

#### 2. Hero (`components/Hero.tsx`)

**è·è²¬**: ä¸»è¦–è¦ºå€å¡Š + é›™ CTA

**ç‰¹æ€§**:
- ä¸»æ¨™é¡Œï¼ˆå¯ A/B æ¸¬è©¦ï¼‰
- Primary CTA: é–‹å•Ÿè¡¨å–®
- Secondary CTA: æ»¾å‹•åˆ°åŠŸèƒ½å€

**Props**: `onOpenForm: () => void`

**äº‹ä»¶è¿½è¹¤**:
- `cta_click` (location: 'hero', type: 'primary' | 'secondary')

**ğŸ” æ¸¬è©¦é»**:
- Hero ä¸»å¼µæ¸¬è©¦ï¼ˆä¿¡ä»» vs æˆæœ¬ vs æ³•å¾‹ï¼‰
- CTA æ–‡æ¡ˆæ¸¬è©¦ï¼ˆå€™è£œ vs ç«‹å³å•Ÿç”¨ï¼‰

---

#### 3. PainPoints (`components/PainPoints.tsx`)

**è·è²¬**: å±•ç¤ºä¸‰å¤§ç—›é»

**ç‰¹æ€§**:
- å¡ç‰‡å¼ä½ˆå±€
- åœ–ç¤º + æ¨™é¡Œ + æè¿°
- Hover æ•ˆæœ

**Props**: ç„¡

**å…§å®¹**:
1. å³æ™‚æ€§å•é¡Œï¼šå½å†’ç¶²ç«™å·²ç¶“å‡ºç¾ï¼Œå»æ¸¾ç„¶ä¸çŸ¥
2. è³‡æºé™åˆ¶ï¼šæ²’æœ‰å°ˆäººæ¯å¤©æœå°‹ç›£æ§
3. æå®³æ“´å¤§ï¼šå®¢æˆ¶å—é¨™å¾Œæ‰ç™¼ç¾ï¼Œä¿¡ä»»å·²ç¶“æµå¤±

---

#### 4. ValueProps (`components/ValueProps.tsx`)

**è·è²¬**: å±•ç¤ºä¸‰å¤§åƒ¹å€¼ä¸»å¼µ

**ç‰¹æ€§**:
- è©³ç´°æè¿° + é‡é»äº®é»
- éŸ¿æ‡‰å¼ä½ˆå±€ï¼ˆmobile: 1 åˆ—ï¼Œdesktop: 3 åˆ—ï¼‰

**Props**: ç„¡

**å…§å®¹**:
1. å¤šç¶­ç›£æ§ï¼šç¤¾ç¾¤åª’é«”ã€æœå°‹å¼•æ“ã€ç¶²åŸŸè¨»å†Šã€App Store
2. å³æ™‚é€šçŸ¥ï¼šåµæ¸¬åˆ°å½å†’ç«‹å³é€šçŸ¥
3. è™•ç†æŒ‡å¼•ï¼šæä¾›æª¢èˆ‰æµç¨‹èˆ‡æ³•å¾‹è³‡æº

---

#### 5. Features (`components/Features.tsx`)

**è·è²¬**: åŠŸèƒ½ç‰¹è‰²å±•ç¤º

**ç‰¹æ€§**:
- 3 åˆ—ç¶²æ ¼ä½ˆå±€
- åœ–ç¤º + æ¨™é¡Œ + æè¿°

**Props**: ç„¡

**å…§å®¹**:
1. AI é©…å‹•ç›£æ§
2. æ¯æ—¥è‡ªå‹•æƒæ
3. è©³ç´°å¨è„…å ±å‘Š

---

#### 6. CTASection (`components/CTASection.tsx`)

**è·è²¬**: åº•éƒ¨ CTA å€å¡Šï¼ˆäºŒæ¬¡è½‰æ›æ©Ÿæœƒï¼‰

**ç‰¹æ€§**:
- å¼·èª¿ã€Œç„¡éœ€ä¿¡ç”¨å¡ã€
- è¿½è¹¤ CTA ä½ç½®æ¨™è¨˜

**Props**: `onOpenForm: () => void`

**äº‹ä»¶è¿½è¹¤**:
- `cta_click` (location: 'bottom_cta', type: 'primary')

**ğŸ” æ¸¬è©¦é»**:
- æ¯”è¼ƒ Hero CTA vs Bottom CTA çš„è½‰æ›ç‡

---

#### 7. Footer (`components/Footer.tsx`)

**è·è²¬**: é å°¾ + Fake Door å…è²¬è²æ˜

**ç‰¹æ€§**:
- ç‰ˆæ¬Šè³‡è¨Š
- é‡è¦å…è²¬è²æ˜ï¼ˆé€æ˜åŒ– Fake Door æ¸¬è©¦ï¼‰

**Props**: ç„¡

---

#### 8. LeadModal (`components/LeadModal.tsx`)

**è·è²¬**: è¡¨å–® Modalï¼ˆæ ¸å¿ƒè½‰æ›çµ„ä»¶ï¼‰

**ç‰¹æ€§**:
- 4 å€‹è¡¨å–®æ¬„ä½ï¼ˆ1 å¿…å¡« + 3 é¸å¡«ï¼‰
- Email æ ¼å¼é©—è­‰
- æäº¤ç‹€æ…‹ç®¡ç†
- éŒ¯èª¤è™•ç†

**Props**:
```typescript
{
  isOpen: boolean;
  onClose: () => void;
}
```

**ç‹€æ…‹**:
```typescript
{
  formData: LeadFormData;
  isSubmitting: boolean;
  error: string | null;
}
```

**è¡¨å–®æ¬„ä½**:
```typescript
interface LeadFormData {
  email: string;              // å¿…å¡«
  company_size?: string;      // é¸å¡«ï¼š1-10, 11-50, 51-200, 200+
  role?: string;              // é¸å¡«ï¼šè¡ŒéŠ·ã€å®¢æœã€å‰µè¾¦äººã€ITã€å…¶ä»–
  impersonation_type?: string; // é¸å¡«ï¼šç¤¾ç¾¤ã€ç¶²ç«™ã€å®¢æœã€Appã€å…¶ä»–
}
```

**äº‹ä»¶è¿½è¹¤**:
- `form_open`: Modal é–‹å•Ÿ
- `form_submit`: è¡¨å–®æäº¤
- `form_success`: æäº¤æˆåŠŸ
- `form_error`: æäº¤å¤±æ•—

**æäº¤æµç¨‹**:
1. é©—è­‰ email æ ¼å¼
2. è¿½è¹¤ `form_submit` äº‹ä»¶
3. å‘¼å« `submitLead()`
4. æˆåŠŸ â†’ å°èˆªåˆ° `/thanks` + è¿½è¹¤ `form_success`
5. å¤±æ•— â†’ é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ + è¿½è¹¤ `form_error`

**ğŸ” æ¸¬è©¦é»**:
- å»ºè­°åŠ å…¥ã€Œæ˜¯å¦æ›¾è¢«å½å†’ã€checkbox å€åˆ†é«˜æ„åœ–ç”¨æˆ¶

---

## æ•¸æ“šæµ

### è¡¨å–®æäº¤æµç¨‹

```
ç”¨æˆ¶å¡«å¯«è¡¨å–®
    â”‚
    â–¼
LeadModal é©—è­‰ (Email æ ¼å¼)
    â”‚
    â–¼
è¿½è¹¤ form_submit äº‹ä»¶
    â”‚
    â–¼
submitLead(formData)
    â”œâ”€ åŠ å…¥ timestamp
    â”œâ”€ åŠ å…¥ source æ¨™ç±¤
    â”‚
    â–¼
åˆ¤æ–· endpoint
    â”œâ”€ å¤–éƒ¨ (NEXT_PUBLIC_SUBMIT_ENDPOINT)
    â”‚   â””â”€ POST åˆ° Formspree / Google Forms
    â”‚
    â””â”€ å…§éƒ¨ (æœªè¨­å®šç’°å¢ƒè®Šæ•¸)
        â””â”€ POST åˆ° /api/lead
            â”œâ”€ é©—è­‰ email
            â”œâ”€ console.log è¨˜éŒ„
            â””â”€ è¿”å›æˆåŠŸè¨Šæ¯
    â”‚
    â–¼
æˆåŠŸ
    â”œâ”€ è¿½è¹¤ form_success
    â””â”€ å°èˆªåˆ° /thanks
    â”‚
å¤±æ•—
    â”œâ”€ è¿½è¹¤ form_error
    â””â”€ é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
```

### Analytics äº‹ä»¶æµ

```
é é¢è¼‰å…¥
    â”‚
    â–¼
è¿½è¹¤ page_view
    â”‚
    â–¼
ç”¨æˆ¶é»æ“Š CTA
    â”‚
    â–¼
è¿½è¹¤ cta_click (location: hero/bottom_cta)
    â”‚
    â–¼
é–‹å•Ÿ Modal
    â”‚
    â–¼
è¿½è¹¤ form_open
    â”‚
    â–¼
æäº¤è¡¨å–®
    â”‚
    â–¼
è¿½è¹¤ form_submit (å«æ¬„ä½è³‡è¨Š)
    â”‚
    â–¼
æˆåŠŸ/å¤±æ•—
    â”‚
    â–¼
è¿½è¹¤ form_success / form_error
```

### äº‹ä»¶è¼¸å‡º

æ‰€æœ‰äº‹ä»¶æœƒåŒæ™‚è¼¸å‡ºåˆ°ï¼š

1. **Console** (é–‹ç™¼éšæ®µ)
2. **window.dataLayer** (Google Tag Manager)
3. **Vercel Analytics** (é¸é…)
4. **Cloudflare Analytics** (é¸é…)

---

## API è¨­è¨ˆ

### POST /api/lead

**ç«¯é»**: `/api/lead`

**æ–¹æ³•**: POST

**Content-Type**: `application/json`

**Request Body**:
```typescript
{
  email: string;              // å¿…å¡«
  company_size?: string;      // é¸å¡«
  role?: string;              // é¸å¡«
  impersonation_type?: string; // é¸å¡«
  timestamp?: string;         // è‡ªå‹•åŠ å…¥
  source?: string;            // è‡ªå‹•åŠ å…¥ (fake_door_mvp)
}
```

**Response (Success)**:
```json
{
  "success": true,
  "message": "Lead captured successfully"
}
```

**Response (Error - Invalid Email)**:
```json
{
  "success": false,
  "error": "Valid email is required"
}
```

**ç‹€æ…‹ç¢¼**:
- `200`: æˆåŠŸ
- `400`: è«‹æ±‚éŒ¯èª¤ï¼ˆEmail ç„¡æ•ˆï¼‰
- `405`: æ–¹æ³•ä¸å…è¨±ï¼ˆåƒ…æ”¯æ´ POSTï¼‰
- `500`: ä¼ºæœå™¨éŒ¯èª¤

**ç›®å‰å¯¦ä½œ**:
```typescript
// app/api/lead/route.ts
export async function POST(request: Request) {
  const data = await request.json();

  // é©—è­‰ email
  if (!data.email || !data.email.includes('@')) {
    return NextResponse.json(
      { success: false, error: 'Valid email is required' },
      { status: 400 }
    );
  }

  // Log åˆ° consoleï¼ˆé–‹ç™¼éšæ®µï¼‰
  console.log('[Lead Captured]', data);

  // è¿”å›æˆåŠŸ
  return NextResponse.json({
    success: true,
    message: 'Lead captured successfully'
  });
}
```

**æ“´å±•å»ºè­°**:

1. **å„²å­˜åˆ°è³‡æ–™åº«** (Cloudflare D1, Supabase)
```typescript
await db.insert('leads', {
  email: data.email,
  company_size: data.company_size,
  created_at: new Date()
});
```

2. **ç™¼é€ Email é€šçŸ¥** (Resend, SendGrid)
```typescript
await sendEmail({
  to: 'team@company.com',
  subject: 'New Lead',
  body: `Email: ${data.email}...`
});
```

3. **Webhook é€šçŸ¥** (Slack, Discord)
```typescript
await fetch(process.env.SLACK_WEBHOOK_URL, {
  method: 'POST',
  body: JSON.stringify({
    text: `New lead: ${data.email}`
  })
});
```

---

## å‰ç«¯æ¶æ§‹

### ç‹€æ…‹ç®¡ç†

ç›®å‰ä½¿ç”¨ **React State** (ç„¡éœ€è¤‡é›œç‹€æ…‹ç®¡ç†)

**LeadModal ç‹€æ…‹**:
```typescript
const [isModalOpen, setIsModalOpen] = useState(false);
const [formData, setFormData] = useState<LeadFormData>({
  email: '',
  company_size: undefined,
  role: undefined,
  impersonation_type: undefined
});
const [isSubmitting, setIsSubmitting] = useState(false);
const [error, setError] = useState<string | null>(null);
```

**ç‚ºä»€éº¼ä¸ç”¨ Redux/Zustandï¼Ÿ**
- ç‹€æ…‹ç°¡å–®ï¼ˆåªæœ‰è¡¨å–®ç‹€æ…‹ï¼‰
- ç„¡éœ€è·¨çµ„ä»¶å…±äº«è¤‡é›œç‹€æ…‹
- ç„¡éœ€æ™‚é–“æ—…è¡Œæˆ–ä¸­é–“ä»¶
- ä¿æŒç°¡å–®æ˜¯æœ€å¥½çš„

### è·¯ç”±

ä½¿ç”¨ **Next.js App Router**

**è·¯ç”±è¡¨**:
| è·¯å¾‘ | é é¢ | æ¸²æŸ“æ–¹å¼ |
|------|------|---------|
| `/` | Landing Page | SSG (Static) |
| `/thanks` | æ„Ÿè¬é  | SSG (Static) |
| `/api/lead` | Lead API | Dynamic (On-demand) |

**å°èˆªæ–¹å¼**:
```typescript
import { useRouter } from 'next/navigation';

const router = useRouter();
router.push('/thanks'); // å®¢æˆ¶ç«¯å°èˆª
```

### æ¨£å¼ç³»çµ±

**Tailwind CSS + CSS Variables**

**å…¨åŸŸè®Šæ•¸** (`app/globals.css`):
```css
:root {
  --background: #fafaf8;  /* ç±³ç™½è‰²èƒŒæ™¯ */
  --foreground: #1a1a1a;  /* æ·±ç°è‰²æ–‡å­— */
}
```

**Tailwind æ“´å±•** (`tailwind.config.ts`):
```typescript
theme: {
  extend: {
    colors: {
      'primary-blue': '#0059FF',
      'bg-blue-light': '#EDF4FF',
      background: 'var(--background)',
      foreground: 'var(--foreground)',
    },
    fontFamily: {
      sans: ['var(--font-noto-sans-jp)', 'Inter', 'sans-serif'],
      serif: ['var(--font-noto-serif-jp)', 'Georgia', 'serif'],
    },
    borderRadius: {
      xl: '1rem',
      '2xl': '1.5rem',
      '3xl': '2rem',
    }
  }
}
```

**è¨­è¨ˆç³»çµ±**:
- **é–“è·**: Tailwind æ¨™æº–é–“è· (4px, 8px, 12px, 16px, 24px, 32px...)
- **åœ“è§’**: xl (16px), 2xl (24px), 3xl (32px)
- **é™°å½±**: Tailwind æ¨™æº–é™°å½±
- **æ–·é»**: sm (640px), md (768px), lg (1024px), xl (1280px)

---

## Analytics æ¶æ§‹

### äº‹ä»¶è¿½è¹¤ç³»çµ±

**æ ¸å¿ƒå‡½æ•¸** (`lib/analytics.ts`):
```typescript
export function track(
  eventName: string,
  properties?: Record<string, any>
) {
  // 1. Console log (é–‹ç™¼éšæ®µ)
  console.log('[Analytics]', eventName, properties);

  // 2. Push to dataLayer (GTM)
  if (typeof window !== 'undefined') {
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
      event: eventName,
      ...properties
    });
  }

  // 3. Vercel Analytics (é¸é…)
  // if (process.env.NEXT_PUBLIC_VERCEL_ANALYTICS === 'true') {
  //   analytics.track(eventName, properties);
  // }

  // 4. Cloudflare Analytics (é¸é…)
  // ...
}
```

### è¿½è¹¤çš„äº‹ä»¶

| äº‹ä»¶åç¨± | è§¸ç™¼æ™‚æ©Ÿ | å±¬æ€§ |
|---------|---------|------|
| `page_view` | é é¢è¼‰å…¥ | `{ page: 'landing' \| 'thanks' }` |
| `cta_click` | CTA é»æ“Š | `{ location: 'hero' \| 'bottom_cta', type: 'primary' \| 'secondary' }` |
| `form_open` | è¡¨å–®é–‹å•Ÿ | `{}` |
| `form_submit` | è¡¨å–®æäº¤ | `{ company_size?, role?, impersonation_type? }` |
| `form_success` | æäº¤æˆåŠŸ | `{}` |
| `form_error` | æäº¤å¤±æ•— | `{ message: string }` |

### æ¼æ–—åˆ†æ

```
page_view (100%)
    â†“
cta_click (ç›®æ¨™ > 10%)
    â†“
form_open (ç›®æ¨™ > 80% of clicks)
    â†“
form_submit (ç›®æ¨™ > 60% of opens)
    â†“
form_success (ç›®æ¨™ > 95% of submits)
```

### é›†æˆæ–¹å¼

**Google Tag Manager**:
```javascript
// å·²é è¨­æ”¯æ´ via dataLayer
window.dataLayer.push({
  event: 'form_submit',
  company_size: '11-50',
  role: 'Marketing'
});
```

**Vercel Analytics**:
```typescript
// 1. å®‰è£: npm install @vercel/analytics
// 2. åœ¨ app/layout.tsx åŠ å…¥:
import { Analytics } from '@vercel/analytics/react';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Analytics />
      </body>
    </html>
  );
}
```

---

## è¨­è¨ˆæ±ºç­–

### ADR-001: ä½¿ç”¨ Next.js App Router

**æ—¥æœŸ**: 2025-12-26

**ç‹€æ…‹**: å·²æ¡ç”¨

**èƒŒæ™¯**:
éœ€è¦é¸æ“‡ React æ¡†æ¶ä¾†å»ºç«‹ Landing Page

**æ±ºç­–**:
æ¡ç”¨ Next.js 15 (App Router)

**ç†ç”±**:
1. âœ… å…§å»º SSG/SSRï¼Œé©åˆ Landing Pageï¼ˆSEO å‹å–„ï¼‰
2. âœ… å…§å»º API Routesï¼Œç„¡éœ€ç¨ç«‹å¾Œç«¯
3. âœ… å„ªç§€çš„é–‹ç™¼é«”é©—ï¼ˆHMRã€TypeScript æ”¯æ´ï¼‰
4. âœ… Vercel ä¸€éµéƒ¨ç½²
5. âœ… å…§å»ºå­—é«”å„ªåŒ–ï¼ˆGoogle Fontsï¼‰

**æ›¿ä»£æ–¹æ¡ˆ**:
- Create React App: ç„¡ SSR/SSGï¼ŒSEO è¼ƒå·®
- Vite + React: éœ€è¦é¡å¤–è¨­å®š SSR
- Astro: é©åˆéœæ…‹ç¶²ç«™ï¼Œä½† React äº’å‹•æ€§è¼ƒå¼±

---

### ADR-002: ä½¿ç”¨ Tailwind CSS

**æ—¥æœŸ**: 2025-12-26

**ç‹€æ…‹**: å·²æ¡ç”¨

**èƒŒæ™¯**:
éœ€è¦é¸æ“‡ CSS æ¡†æ¶ä¾†å¿«é€Ÿå»ºç«‹ UI

**æ±ºç­–**:
æ¡ç”¨ Tailwind CSS 3.4.17

**ç†ç”±**:
1. âœ… Utility-firstï¼Œå¿«é€Ÿé–‹ç™¼
2. âœ… å…§å»ºéŸ¿æ‡‰å¼è¨­è¨ˆ
3. âœ… æ˜“æ–¼è‡ªè¨‚ï¼ˆè‰²å½©ã€å­—é«”ã€é–“è·ï¼‰
4. âœ… èˆ‡ Next.js å®Œç¾æ•´åˆ
5. âœ… ç”Ÿç”¢ç’°å¢ƒè‡ªå‹•æ¸…é™¤æœªä½¿ç”¨æ¨£å¼ï¼ˆå°é«”ç©ï¼‰

**æ›¿ä»£æ–¹æ¡ˆ**:
- CSS Modules: éœ€è¦æ‰‹å¯«æ›´å¤š CSS
- Styled Components: Runtime æˆæœ¬ï¼Œé«”ç©è¼ƒå¤§
- MUI: éæ–¼è¤‡é›œï¼Œä¸é©åˆ Landing Page

---

### ADR-003: å…§å»º API vs å¤–éƒ¨æœå‹™

**æ—¥æœŸ**: 2025-12-26

**ç‹€æ…‹**: å·²æ¡ç”¨ï¼ˆé›™æ¨¡å¼ï¼‰

**èƒŒæ™¯**:
è¡¨å–®æäº¤éœ€è¦é¸æ“‡å¾Œç«¯æ–¹æ¡ˆ

**æ±ºç­–**:
æ”¯æ´é›™æ¨¡å¼ï¼š
1. å…§å»º API (`/api/lead`) - é è¨­
2. å¤–éƒ¨æœå‹™ (Formspree, etc.) - å¯é¸

**ç†ç”±**:
1. âœ… å…§å»º API: é›¶ä¾è³´ï¼Œé–‹ç®±å³ç”¨
2. âœ… å¤–éƒ¨æœå‹™: å¿«é€Ÿæ¸¬è©¦ï¼Œç„¡éœ€è¨­å®šè³‡æ–™åº«
3. âœ… æ¼¸é€²å¢å¼·: å¯å¾å…§å»º API é€æ­¥æ“´å±•åˆ°è³‡æ–™åº«

**å¯¦ä½œ**:
```typescript
// lib/submitLead.ts
const endpoint = process.env.NEXT_PUBLIC_SUBMIT_ENDPOINT || '/api/lead';
```

---

### ADR-004: æ—¥ç³»ç°¡ç´„è¨­è¨ˆé¢¨æ ¼

**æ—¥æœŸ**: 2025-12-26

**ç‹€æ…‹**: å·²æ¡ç”¨

**èƒŒæ™¯**:
éœ€è¦é¸æ“‡è¨­è¨ˆé¢¨æ ¼ä¾†å»ºç«‹å“ç‰Œå½¢è±¡

**æ±ºç­–**:
æ¡ç”¨æ—¥ç³»ç°¡ç´„é¢¨æ ¼ï¼ˆMUJI / iOS å½±éŸ¿ï¼‰

**ç†ç”±**:
1. âœ… å°ˆæ¥­ã€å¯ä¿¡è³´ï¼ˆé©åˆ B2Bï¼‰
2. âœ… ä½é£½å’Œè‰²å½©ï¼Œèˆ’é©æ˜“è®€
3. âœ… å¤§åœ“è§’ã€ç•™ç™½ï¼Œç¾ä»£æ„Ÿ
4. âœ… æ—¥æ–‡å­—é«”ï¼ˆNoto Sans/Serif JPï¼‰ï¼Œè³ªæ„Ÿå„ªç§€

**è¨­è¨ˆå…ƒç´ **:
- è‰²å½©: é»‘/ç°/ç±³ç™½ (#1a1a1a, #fafaf8)
- åœ“è§’: 16-24px
- å­—é«”: Noto Sans JP (å…§æ–‡), Noto Serif JP (æ¨™é¡Œ)
- ç•™ç™½: èˆ’é©çš„è¡Œè· (1.6-1.8) å’Œé–“è·

---

### ADR-005: TypeScript å„ªå…ˆ

**æ—¥æœŸ**: 2025-12-26

**ç‹€æ…‹**: å·²æ¡ç”¨

**èƒŒæ™¯**:
éœ€è¦é¸æ“‡é–‹ç™¼èªè¨€

**æ±ºç­–**:
ä½¿ç”¨ TypeScript (åš´æ ¼æ¨¡å¼)

**ç†ç”±**:
1. âœ… é¡å‹å®‰å…¨ï¼Œæ¸›å°‘ runtime éŒ¯èª¤
2. âœ… æ›´å¥½çš„ IDE æ”¯æ´ï¼ˆè‡ªå‹•å®Œæˆã€é‡æ§‹ï¼‰
3. âœ… æ–‡æª”åŒ–ï¼ˆInterface å³æ–‡æª”ï¼‰
4. âœ… æ˜“æ–¼ç¶­è­·å’Œæ“´å±•

**ç¯„ä¾‹**:
```typescript
// lib/submitLead.ts
export interface LeadFormData {
  email: string;
  company_size?: string;
  role?: string;
  impersonation_type?: string;
}

export async function submitLead(data: LeadFormData): Promise<void> {
  // Type-safe implementation
}
```

---

## æ“´å±•æ€§è€ƒé‡

### è³‡æ–™åº«æ•´åˆ

**ç¾ç‹€**: ç„¡è³‡æ–™åº«ï¼ˆFake Door éšæ®µï¼‰

**æœªä¾†æ“´å±•** (é©—è­‰æˆåŠŸå¾Œ):

#### é¸é … 1: Cloudflare D1 (æ¨è–¦)
```typescript
// app/api/lead/route.ts
import { D1Database } from '@cloudflare/workers-types';

export async function POST(request: Request) {
  const data = await request.json();

  // æ’å…¥åˆ° D1
  await env.DB.prepare(
    'INSERT INTO leads (email, company_size, role, created_at) VALUES (?, ?, ?, ?)'
  ).bind(
    data.email,
    data.company_size,
    data.role,
    new Date().toISOString()
  ).run();

  return NextResponse.json({ success: true });
}
```

**å„ªé»**:
- âœ… Serverless SQL (SQLite)
- âœ… èˆ‡ Cloudflare Pages æ•´åˆ
- âœ… å…è²»é¡åº¦å……è¶³
- âœ… ä½å»¶é²ï¼ˆEdgeï¼‰

#### é¸é … 2: Supabase
```typescript
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(
  process.env.SUPABASE_URL!,
  process.env.SUPABASE_ANON_KEY!
);

export async function POST(request: Request) {
  const data = await request.json();

  const { error } = await supabase
    .from('leads')
    .insert([data]);

  if (error) throw error;
  return NextResponse.json({ success: true });
}
```

**å„ªé»**:
- âœ… PostgreSQL (æ›´å¼·å¤§)
- âœ… å…§å»º Authã€Storage
- âœ… å¯¦æ™‚è¨‚é–±
- âœ… å…è²»é¡åº¦æ…·æ…¨

---

### Email è‡ªå‹•å›è¦†

**æœªä¾†æ“´å±•** (èˆ‡ leads äº’å‹•):

```typescript
// app/api/lead/route.ts
import { Resend } from 'resend';

const resend = new Resend(process.env.RESEND_API_KEY);

export async function POST(request: Request) {
  const data = await request.json();

  // å„²å­˜ lead
  await saveLead(data);

  // ç™¼é€æ„Ÿè¬ Email
  await resend.emails.send({
    from: 'TrustAlert <noreply@trustalert.com>',
    to: data.email,
    subject: 'æ„Ÿè¬æ‚¨çš„é—œæ³¨ï¼',
    html: `
      <h1>æ„Ÿè¬æ‚¨å° TrustAlert çš„èˆˆè¶£ï¼</h1>
      <p>æˆ‘å€‘æœƒåœ¨ç”¢å“ä¸Šç·šæ™‚ç¬¬ä¸€æ™‚é–“é€šçŸ¥æ‚¨ã€‚</p>
      <p>è«‹å•ï¼šæ‚¨æœ€å¸Œæœ›é€™å€‹ç›£æ§ç³»çµ±å¹«æ‚¨è§£æ±ºä»€éº¼å•é¡Œï¼Ÿ</p>
    `
  });

  return NextResponse.json({ success: true });
}
```

**æ¨è–¦æœå‹™**:
- **Resend**: ç¾ä»£åŒ– APIï¼Œé–‹ç™¼è€…å‹å–„
- **SendGrid**: æˆç†Ÿç©©å®šï¼ŒåŠŸèƒ½è±å¯Œ
- **AWS SES**: ä¾¿å®œï¼Œé©åˆå¤§é‡ç™¼é€

---

### A/B æ¸¬è©¦æ•´åˆ

**æœªä¾†æ“´å±•** (å„ªåŒ–è½‰æ›ç‡):

```typescript
// lib/experiments.ts
import { track } from './analytics';

export function getVariant(experimentName: string): string {
  // ç°¡å–®çš„å®¢æˆ¶ç«¯ A/B æ¸¬è©¦
  const userId = getUserId(); // å¾ cookie æˆ–ç”Ÿæˆ
  const hash = hashCode(userId + experimentName);
  const variant = hash % 2 === 0 ? 'A' : 'B';

  track('experiment_view', {
    experiment: experimentName,
    variant
  });

  return variant;
}

// components/Hero.tsx
const heroVariant = getVariant('hero_headline');

const headline = heroVariant === 'A'
  ? 'ç•¶æœ‰äººå†’ç”¨æ‚¨çš„å“ç‰Œï¼Œå®¢æˆ¶çš„ä¿¡ä»»æ­£åœ¨æµå¤±'
  : 'æ¯æ¬¡å½å†’éƒ½åœ¨æµå¤±æ‚¨çš„ç‡Ÿæ”¶';
```

**æ¨è–¦å·¥å…·**:
- **Google Optimize**: å…è²»ï¼ˆ2023 å¹´å·²åœæ­¢ï¼Œå»ºè­°å…¶ä»–æ–¹æ¡ˆï¼‰
- **Vercel Edge Config**: ç°¡å–®çš„ feature flags
- **PostHog**: é–‹æºï¼ŒåŠŸèƒ½é½Šå…¨

---

### å¤šèªè¨€æ”¯æ´

**æœªä¾†æ“´å±•** (æ‹“å±•å¸‚å ´):

```typescript
// app/[locale]/page.tsx
import { getDictionary } from '@/lib/i18n';

export default async function Page({
  params: { locale }
}: {
  params: { locale: string }
}) {
  const t = await getDictionary(locale);

  return (
    <main>
      <Hero headline={t.hero.headline} />
      {/* ... */}
    </main>
  );
}

// dictionaries/zh-TW.json
{
  "hero": {
    "headline": "ç•¶æœ‰äººå†’ç”¨æ‚¨çš„å“ç‰Œï¼Œå®¢æˆ¶çš„ä¿¡ä»»æ­£åœ¨æµå¤±"
  }
}

// dictionaries/en.json
{
  "hero": {
    "headline": "When someone impersonates your brand, customer trust is eroding"
  }
}
```

---

### æ•ˆèƒ½å„ªåŒ–

**ç›®å‰ç‹€æ…‹**: å·²å„ªåŒ–

- âœ… å­—é«”å„ªåŒ– (`next/font`)
- âœ… éœæ…‹ç”Ÿæˆ (SSG)
- âœ… Tailwind CSS è‡ªå‹•æ¸…é™¤æœªä½¿ç”¨æ¨£å¼

**æœªä¾†å„ªåŒ–**:

1. **åœ–ç‰‡å„ªåŒ–**:
```typescript
import Image from 'next/image';

<Image
  src="/images/screenshot.png"
  alt="Dashboard"
  width={800}
  height={600}
  priority // é¦–å±åœ–ç‰‡
/>
```

2. **Code Splitting**:
```typescript
import dynamic from 'next/dynamic';

const LeadModal = dynamic(() => import('@/components/LeadModal'), {
  ssr: false // åªåœ¨å®¢æˆ¶ç«¯è¼‰å…¥
});
```

3. **Edge Runtime** (æ›´å¿«çš„å›æ‡‰):
```typescript
// app/api/lead/route.ts
export const runtime = 'edge';
```

---

## å®‰å…¨æ€§è€ƒé‡

### ç›®å‰å¯¦ä½œ

1. âœ… **Input é©—è­‰**: Email æ ¼å¼æª¢æŸ¥
2. âœ… **HTTPS**: Vercel è‡ªå‹•æä¾›
3. âœ… **CORS**: Next.js é è¨­ä¿è­·

### æœªä¾†åŠ å¼·

1. **é©—è­‰ç¢¼** (é˜²æ­¢æ©Ÿå™¨äºº):
```typescript
// Cloudflare Turnstile (å…è²»ã€éš±ç§å‹å–„)
import { verify } from '@cloudflare/turnstile';

export async function POST(request: Request) {
  const { token, ...data } = await request.json();

  const result = await verify(token, process.env.TURNSTILE_SECRET);
  if (!result.success) {
    return NextResponse.json(
      { error: 'Verification failed' },
      { status: 400 }
    );
  }

  // ç¹¼çºŒè™•ç†...
}
```

2. **Rate Limiting** (é˜²æ­¢æ¿«ç”¨):
```typescript
import { Ratelimit } from '@upstash/ratelimit';
import { Redis } from '@upstash/redis';

const ratelimit = new Ratelimit({
  redis: Redis.fromEnv(),
  limiter: Ratelimit.slidingWindow(5, '1 m'), // æ¯åˆ†é˜ 5 æ¬¡
});

export async function POST(request: Request) {
  const ip = request.headers.get('x-forwarded-for');
  const { success } = await ratelimit.limit(ip);

  if (!success) {
    return NextResponse.json(
      { error: 'Too many requests' },
      { status: 429 }
    );
  }

  // ç¹¼çºŒè™•ç†...
}
```

---

## ç¸½çµ

é€™å€‹æ¶æ§‹è¨­è¨ˆéµå¾ªä»¥ä¸‹åŸå‰‡ï¼š

1. **ç°¡å–®å„ªå…ˆ**: é¿å…éåº¦å·¥ç¨‹ï¼Œä¿æŒä»£ç¢¼æ¸…æ™°
2. **æ¼¸é€²å¢å¼·**: å¾ç°¡å–®é–‹å§‹ï¼ŒæŒ‰éœ€æ“´å±•
3. **é–‹ç™¼è€…é«”é©—**: å„ªç§€çš„ DXï¼ˆTypeScriptã€Tailwindã€Next.jsï¼‰
4. **å¯ç¶­è­·æ€§**: æ¸…æ™°çš„åˆ†å±¤ã€å‘½åã€æ–‡æª”
5. **å¯æ¸¬è©¦æ€§**: æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œæ˜“æ–¼å–®å…ƒæ¸¬è©¦

**ä¸‹ä¸€æ­¥**:
- ğŸ“– é–±è®€ [å¿«é€Ÿé–‹å§‹æŒ‡å—](./QUICKSTART.md)
- ğŸš€ éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ ([éƒ¨ç½²æŒ‡å—](../deployment/DEPLOYMENT.md))
- ğŸ“Š è¨­å®š Analytics ä¸¦é–‹å§‹æ”¶é›†æ•¸æ“š ([ç”¢å“æ´å¯Ÿ](../product/INSIGHTS.md))

---

**æ–‡æª”ç‰ˆæœ¬**: 1.0.0
**æœ€å¾Œæ›´æ–°**: 2026-01-04
**ç¶­è­·è€…**: Gogolook Team
